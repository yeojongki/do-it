<!DOCTYPE html>
<html>
  <head>
    <title>throttle</title>
  </head>

  <body>
    <script type="text/javascript">
      function throttle(fn, delay) {
        // 时间戳版本
        let prev = +new Date();
        return function() {
          const now = +new Date();
          if (now - prev > delay) {
            fn.apply(this, arguments);
            prev = now;
          }
        };
        // // 定时器版本
        // let timer;
        // return function() {
        //   if (!timer) {
        //     timer = setTimeout(() => {
        //       fn.apply(this, arguments);
        //       timer = null;
        //     }, delay);
        //   }
        // };
      }
      const handler = () => {
        console.log('Throttled handler -> ', +new Date());
      };
      window.addEventListener('resize', throttle(handler, 2000));
    </script>
  </body>
</html>
